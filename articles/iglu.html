<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working in iglu • iglu</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Working in iglu">
<meta property="og:description" content="iglu">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iglu</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/iglu.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/metrics_list.html">List of metrics implemented in iglu</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working in iglu</h1>
                        <h4 class="author">Steve Broll, Irina Gaynanova</h4>
            
      
      
      <div class="hidden name"><code>iglu.Rmd</code></div>

    </div>

    
    
<p>The iglu package is developed to assist the analyses of data from Continuous Glucose Monitors (CGMs). CGMs are small wearable devices that measure the glucose levels continuously throughout the day, with some monitors taking measurements as often as every 5 minutes. Data from these monitors provide a detailed quantification of the variation in blood glucose levels during the course of the day, and thus CGMs play an increasing role in clinical practice. For more on CGMs, see <a href="https://doi.org/10.1089/dia.2015.0417">Rodbard (2016) “Continuous Glucose Monitoring: A Review of Successes, Challenges, and Opportunities.”</a>.</p>
<p>Multiple CGM-derived metrics have been developed to assess the quality of glycemic control and glycemic variability, many of which are summarized in <a href="https://www.ncbi.nlm.nih.gov/pubmed/19469679">Rodbard (2009) “Interpretation of continuous glucose monitoring data: glycemic variability and quality of glycemic control.”</a>. The iglu package streamlines the calculation of these metrics by providing clearly named functions that output metrics values with one line of code.</p>
<p>The iglu package is designed with the following three components of Continuous Glucose Monitor (CGM) data in mind:</p>
<ul>
<li><p>Blood glucose level measurement [in mg/dL]</p></li>
<li><p>Timestamp for glucose measurement</p></li>
<li><p>Subject identification</p></li>
</ul>
<p>The iglu package comes with example data from 5 subjects with Type II diabetes whose glucose levels were measured using Dexcom G4 CGM.</p>
<div id="example-data-for-1-subject" class="section level2">
<h2 class="hasAnchor">
<a href="#example-data-for-1-subject" class="anchor"></a>Example data for 1 subject</h2>
<p>Example data with 1 subject can be loaded with:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"example_data_1_subject"</span>)</pre></body></html></div>
<p>This dataset contains 2915 observations of 3 columns corresponding to the three components listed in the introduction:</p>
<ul>
<li>
<code>"id"</code> - Factor (character string) column for subject identification</li>
<li>
<code>"time"</code> - Factor (character string) column that can be converted to DateTime for measurement timestamp</li>
<li>
<code>"gl"</code> - Numeric column for glucose measurement</li>
</ul>
<p>Data used with iglu functions may have additional columns, but the columns for id, time and glucose values must be named as above.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(<span class="no">example_data_1_subject</span>)
<span class="co">#&gt; [1] 2915    3</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">example_data_1_subject</span>)
<span class="co">#&gt; 'data.frame':    2915 obs. of  3 variables:</span>
<span class="co">#&gt;  $ id  : Factor w/ 1 level "Subject 1": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ time: POSIXct, format: "2015-06-06 16:50:27" "2015-06-06 17:05:27" ...</span>
<span class="co">#&gt;  $ gl  : int  153 137 128 121 120 138 155 159 154 152 ...</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">example_data_1_subject</span>)
<span class="co">#&gt;          id                time  gl</span>
<span class="co">#&gt; 1 Subject 1 2015-06-06 16:50:27 153</span>
<span class="co">#&gt; 2 Subject 1 2015-06-06 17:05:27 137</span>
<span class="co">#&gt; 3 Subject 1 2015-06-06 17:10:27 128</span>
<span class="co">#&gt; 4 Subject 1 2015-06-06 17:15:28 121</span>
<span class="co">#&gt; 5 Subject 1 2015-06-06 17:25:27 120</span>
<span class="co">#&gt; 6 Subject 1 2015-06-06 17:45:27 138</span></pre></body></html></div>
</div>
<div id="example-data-for-5-subjects" class="section level2">
<h2 class="hasAnchor">
<a href="#example-data-for-5-subjects" class="anchor"></a>Example data for 5 subjects</h2>
<p>Example data with multiple subjects can be loaded with:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"example_data_5_subject"</span>)</pre></body></html></div>
<p>This dataset contains the same 3 columns as the dataset in the single subject case, but now with 13866 observations from 5 subjects. The first subject in this multiple subject dataset is the same as the single subject from the previous examples.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(<span class="no">example_data_5_subject</span>)
<span class="co">#&gt; [1] 13866     3</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">example_data_5_subject</span>)
<span class="co">#&gt; 'data.frame':    13866 obs. of  3 variables:</span>
<span class="co">#&gt;  $ id  : Factor w/ 5 levels "Subject 1","Subject 2",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ time: POSIXct, format: "2015-06-06 16:50:27" "2015-06-06 17:05:27" ...</span>
<span class="co">#&gt;  $ gl  : int  153 137 128 121 120 138 155 159 154 152 ...</span></pre></body></html></div>
</div>
<div id="calculating-time-independent-metrics" class="section level1">
<h1 class="hasAnchor">
<a href="#calculating-time-independent-metrics" class="anchor"></a>Calculating time-independent metrics</h1>
<p>Time-independent metrics do not use any linear interpolation because the time component of the data is not used in their calculations. Because the time component is not necessary, when working with a single subject only a glucose vector is required. If a glucose vector for multiple subjects is supplied, or if a dataframe that doesn’t have all three columns is supplied, these functions will treat all glucose values as though they are from the same subject.</p>
<div id="example-metrics" class="section level2">
<h2 class="hasAnchor">
<a href="#example-metrics" class="anchor"></a>Example metrics</h2>
<p>All metric functions in iglu will produce the output in a tibble form. See documentation on tibbles with vignette(‘tibble’) or ?<code>tbl_df-class</code>.</p>
<p>Some metric functions, like <code><a href="../reference/above_percent.html">above_percent()</a></code>, will return multiple values for a single subject.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/above_percent.html">above_percent</a></span>(<span class="no">example_data_1_subject</span>)
<span class="co">#&gt; # A tibble: 1 x 5</span>
<span class="co">#&gt;   id        above_140 above_180 above_200 above_250</span>
<span class="co">#&gt;   &lt;fct&gt;         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Subject 1      26.7      8.40      3.70     0.446</span></pre></body></html></div>
<p>When a dataframe is passed, subject id will always be printed in the id column, and metrics will be printed in the following columns.</p>
<p>As discussed above, just the glucose vector can be supplied for the single subject case.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="../reference/above_percent.html">above_percent</a></span>(<span class="no">example_data_1_subject</span>$<span class="no">gl</span>)
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   above_140 above_180 above_200 above_250</span>
<span class="co">#&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1      26.7      8.40      3.70     0.446</span></pre></body></html></div>
<p>However, it is not recommended to pass just glucose values whenever the time and subject are also available, because this output will not contain the subject ID.</p>
<p>The list of target values for the above_percent metric is a parameter that can be changed:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/above_percent.html">above_percent</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">targets</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>, <span class="fl">200</span>, <span class="fl">300</span>))
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   id        above_100 above_200 above_300</span>
<span class="co">#&gt;   &lt;fct&gt;         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Subject 1      74.4      3.70         0</span></pre></body></html></div>
<p>Many metrics have parameters that can be changed. To see available parameters for a given metric, see the documentation i.e. ?above_percent or help(above_percent).</p>
<p>Not all metric functions return multiple values. Many, like <code>MAGE()</code> (Mean Amplitude of Glycemic Excursions), will return just a single value for each subject, producing a column for value and a column for subject id (if a dataframe is passed), as well as a row for each subject.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="../reference/mage.html">mage</a></span>(<span class="no">example_data_5_subject</span>)
<span class="co">#&gt; # A tibble: 5 x 2</span>
<span class="co">#&gt;   id         mage</span>
<span class="co">#&gt;   &lt;fct&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Subject 1  53.4</span>
<span class="co">#&gt; 2 Subject 2  78.2</span>
<span class="co">#&gt; 3 Subject 3  76.6</span>
<span class="co">#&gt; 4 Subject 4  42.9</span>
<span class="co">#&gt; 5 Subject 5  90.0</span></pre></body></html></div>
</div>
</div>
<div id="calculating-time-dependent-metrics" class="section level1">
<h1 class="hasAnchor">
<a href="#calculating-time-dependent-metrics" class="anchor"></a>Calculating time-dependent metrics</h1>
<div id="cgms2daybyday" class="section level2">
<h2 class="hasAnchor">
<a href="#cgms2daybyday" class="anchor"></a>CGMS2DayByDay()</h2>
<p>Observe that the timestamps in the first rows are not evenly spaced. Linear interpolation is used where appropriate for computation of metrics that require a time component with equally spaced measurements. Time intervals within large gaps between variables will not be interpolated, but instead will be treated as missing values.</p>
<p>Functions requiring linear interpolation call the <code><a href="../reference/CGMS2DayByDay.html">CGMS2DayByDay()</a></code> function on the data automatically. This function can be explicitly called by the user to test on their datasets. Note that this function is only designed for one subject at a time. Below we will look at the structure of this functions output.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="fu"><a href="../reference/CGMS2DayByDay.html">CGMS2DayByDay</a></span>(<span class="no">example_data_1_subject</span>))
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ gd2d        : num [1:14, 1:288] NA 112.2 92 90.1 143.1 ...</span>
<span class="co">#&gt;  $ actual_dates: Date[1:14], format: "2015-06-06" "2015-06-07" ...</span>
<span class="co">#&gt;  $ dt0         : num 5</span></pre></body></html></div>
<p>The first part of the output, gd2d, is the interpolated grid of values. The function determined that the frequency of the measurements for this sensor was 5 minutes, so for each of the 14 days (the rows) there are 288 columns (the 5 minute intervals). The second part of the output, actual_dates, is a vector of dates corresponding to the ros in the gd2d output. The final part is just the dt0, parameter, which is detected automatically but can also be specified.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="fu"><a href="../reference/CGMS2DayByDay.html">CGMS2DayByDay</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">dt0</span> <span class="kw">=</span> <span class="fl">10</span>))
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ gd2d        : num [1:14, 1:144] NA 111.1 92.9 89.1 138.2 ...</span>
<span class="co">#&gt;  $ actual_dates: Date[1:14], format: "2015-06-06" "2015-06-07" ...</span>
<span class="co">#&gt;  $ dt0         : num 10</span></pre></body></html></div>
<p>Note that the final part of the output reflects our input, and there are now only 144 columns instead of 288.</p>
<p>The CGMS2DayByDay function also allows specification of the maximum allowable gap to interpolate values across (default is 45 minutes) and a string corresponding to time zone (default is the timezone of the user’s system).</p>
<p>All functions for metrics requiring linear interpolation will accept the following three parameters that are passed on to <code><a href="../reference/CGMS2DayByDay.html">CGMS2DayByDay()</a></code>:</p>
<ul>
<li>“<code>dt0</code>” - Time frequency (numeric) for interpolation. Default will automatically match the frequency of the data</li>
<li>“<code>inter_gap</code>” - Maximum allowable gap in minutes (numeric) for interpolation</li>
<li>“<code>tz</code>” - String corresponding to timezone where the data’s measurements were recorded</li>
</ul>
<p>In the example_data_5_subject dataset, it is important to specify <code>tz</code> = ‘EST’, because a Daylight Savings Time shift can cause miscalculations if the wrong timezone is used. A proper call for this dataset, being recorded in EST, would be:</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/CGMS2DayByDay.html">CGMS2DayByDay</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p>Examples of proper metric function calls will be shown in the next section.</p>
</div>
<div id="example-metrics-1" class="section level2">
<h2 class="hasAnchor">
<a href="#example-metrics-1" class="anchor"></a>Example metrics</h2>
<p>Need to add references to ‘tz’ in these examples.</p>
<p>Some metric functions, like <code><a href="../reference/conga.html">conga()</a></code> (Continuous Overlapping Net Glycemic Action), will return just a single value for each subject, resulting in a 2 column tibble (1 column for id and 1 for the single value).</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="../reference/conga.html">conga</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   id        conga</span>
<span class="co">#&gt;   &lt;fct&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Subject 1  37.0</span></pre></body></html></div>
<p>Note that even though we are working with a single subject, a dataframe with glucose values, time, and subject id’s must be passed. Functions for metrics requiring the time component for calculation can not be passed a vector of glucose values.</p>
<p><code><a href="../reference/sd_measures.html">sd_measures()</a></code>, which computes 6 unique standard deviation subtypes, requires linear interpolation and returns multiple values for each subject.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="../reference/sd_measures.html">sd_measures</a></span>(<span class="no">example_data_5_subject</span>)
<span class="co">#&gt; # A tibble: 5 x 7</span>
<span class="co">#&gt;   id          SdW SdHHMM SdWSH  SdDM   SdB SdBDM</span>
<span class="co">#&gt;   &lt;fct&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Subject 1  26.4   19.6  6.54  16.7  27.9  24.0</span>
<span class="co">#&gt; 2 Subject 2  36.7   22.8  7.62  52.0  48.0  35.9</span>
<span class="co">#&gt; 3 Subject 3  42.9   14.4  9.51  12.4  42.8  42.5</span>
<span class="co">#&gt; 4 Subject 4  24.5   12.9  6.72  16.9  25.5  22.0</span>
<span class="co">#&gt; 5 Subject 5  50.0   29.6 12.8   23.3  50.3  45.9</span></pre></body></html></div>
</div>
</div>
<div id="visualizations" class="section level1">
<h1 class="hasAnchor">
<a href="#visualizations" class="anchor"></a>Visualizations</h1>
<p>The iglu package currently supports 3 plot types:</p>
<ul>
<li>Time series plot</li>
<li>Unsorted lasagna plot</li>
<li>Row sorted lasagna plot</li>
</ul>
<p>The time series plot is the default type for the function <code>plot_glu</code>. This plot type can support both single and multiple subjects.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'tsplot'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">"EST"</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'tsplot'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">"EST"</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-14-2.png" width="700"></p>
<p>We set the ‘tz’ (timezone) parameter to be EST because the data was collected in the eastern time zone. If left blank, the time zone used for plotting will be the system’s time zone. Time zone is mainly an issue in cases where daylight savings time might make it appear as though there were duplicate values at some time points.</p>
<p>To just plot a single subject of interest from the grid of time series plots, set the ‘subjects’ parameter to be that subject’s ID.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'tsplot'</span>, <span class="kw">subjects</span> <span class="kw">=</span> <span class="st">'Subject 3'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">"EST"</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<p>The red lines can be shifted to any Lower and Upper Target Range Limits with the ‘LLTR’ and ‘ULTR’ arguments.</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'tsplot'</span>, <span class="kw">subjects</span> <span class="kw">=</span> <span class="st">'Subject 3'</span>, <span class="kw">LLTR</span> <span class="kw">=</span> <span class="fl">80</span>, <span class="kw">ULTR</span> <span class="kw">=</span> <span class="fl">150</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">"EST"</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<p>The <code>plot_glu</code> function also supports lasagna plots by changing the ‘plottype’ parameter. For more on lasagna plots, see <a href="https://doi.org/10.1097/ede.0b013e3181e5b06a">Swihart et al. (2010) “Lasagna Plots: A Saucy Alternative to Spaghetti Plots.”</a></p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'lasagna'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>By default, this will produce an unsorted lasagna plot using up to 14 days worth of data displayed separately. To average across days at each time point, we can use <code>datatype = 'average'</code>:</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'lasagna'</span>, <span class="kw">datatype</span> <span class="kw">=</span> <span class="st">'average'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
<p>We can additionally sort the values at each time point across the five subjects by setting <code>lasagnatype = 'timesorted'</code></p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'lasagna'</span>, <span class="kw">datatype</span> <span class="kw">=</span> <span class="st">'average'</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'timesorted'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p>When working with a single subject, setting <code>datatype = single</code> will produce plots where rows represent days instead of subjects.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'lasagna'</span>, <span class="kw">datatype</span> <span class="kw">=</span> <span class="st">'single'</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'unsorted'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_glu.html">plot_glu</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">plottype</span> <span class="kw">=</span> <span class="st">'lasagna'</span>, <span class="kw">datatype</span> <span class="kw">=</span> <span class="st">'single'</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'timesorted'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
<p>For further customization of lasagna plots, use the <code>plot_lasagna</code> and <code>plot_lasagna_1subject</code> functions.</p>
<p><code>plot_lasagna</code> allows for multi-subject lasagna plots with the additional options of sorting the hours by glucose values for each subject, i.e. horizontal sorting, by setting <code>lasagnatype = 'subjectsorted'</code>.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_lasagna.html">plot_lasagna</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">datatype</span> <span class="kw">=</span> <span class="st">'average'</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'subjectsorted'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
<p><code>plot_lasagna</code> also supports changing the maximum number of days to display, as well as the upper and lower target range limits (LLTR and ULTR), midpoint, and minimum and maximum values to display, all of which will affect the colorbar.</p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_lasagna.html">plot_lasagna</a></span>(<span class="no">example_data_5_subject</span>, <span class="kw">datatype</span> <span class="kw">=</span> <span class="st">'average'</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'subjectsorted'</span>, <span class="kw">LLTR</span> <span class="kw">=</span> <span class="fl">100</span>, <span class="kw">ULTR</span> <span class="kw">=</span> <span class="fl">180</span>, <span class="kw">midpoint</span> <span class="kw">=</span> <span class="fl">150</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">80</span>, <span class="fl">500</span>), <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
<p><code>plot_lasagna_1subject</code> allows for customization of the more detailed single subject lasagna plots. There is no datatype parameter for <code>plot_lasagna_1subject</code>, but there are three types of plots available, accessed with the <code>lasagnatype</code> parameter.</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_lasagna_1subject.html">plot_lasagna_1subject</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'unsorted'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-24-1.png" width="700"></p>
<div class="sourceCode" id="cb26"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_lasagna_1subject.html">plot_lasagna_1subject</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'timesorted'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-25-1.png" width="700"></p>
<div class="sourceCode" id="cb27"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_lasagna_1subject.html">plot_lasagna_1subject</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'daysorted'</span>, <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)</pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-26-1.png" width="700"></p>
<p>As with the <code>lasagna_plot</code> function, changing the LLTR, ULTR, midpoint, and limits parameters will affect the colorbar.</p>
<div class="sourceCode" id="cb28"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_lasagna_1subject.html">plot_lasagna_1subject</a></span>(<span class="no">example_data_1_subject</span>, <span class="kw">lasagnatype</span> <span class="kw">=</span> <span class="st">'daysorted'</span>, <span class="kw">midpoint</span> <span class="kw">=</span> <span class="fl">150</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">80</span>,<span class="fl">500</span>), <span class="kw">tz</span> <span class="kw">=</span> <span class="st">'EST'</span>)
<span class="co">#&gt; Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span>
<span class="co">#&gt; collapsing to unique 'x' values</span>

<span class="co">#&gt; Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span>
<span class="co">#&gt; collapsing to unique 'x' values</span>

<span class="co">#&gt; Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span>
<span class="co">#&gt; collapsing to unique 'x' values</span></pre></body></html></div>
<p><img src="iglu_files/figure-html/unnamed-chunk-27-1.png" width="700"></p>
</div>
<div id="shiny-app" class="section level1">
<h1 class="hasAnchor">
<a href="#shiny-app" class="anchor"></a>Shiny App</h1>
<p>The iglu package comes with a shiny app containing all of the metric calculations as well as all plot types of the package itself.</p>
<p>The full app can be accessed by running <code><a href="../reference/iglu_shiny.html">iglu::iglu_shiny()</a></code> (iglu must be installed to use the <code>iglu_shiny</code> function).</p>
<p>The app itself has a demo available at <a href="https://stevebroll.shinyapps.io/shinyigludemo/" class="uri">https://stevebroll.shinyapps.io/shinyigludemo/</a> with data pre-loaded.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Steve Broll, Jacek Urbanek, David Buchanan, John Muschelli, Irina Gaynanova.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
